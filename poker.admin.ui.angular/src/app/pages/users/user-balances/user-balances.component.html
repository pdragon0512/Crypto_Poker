<nb-card>
  <nb-card-header>
    User Balances
  </nb-card-header>
  <nb-card-body>
    <div class="row" *ngIf="errorMessage">
      <div class="col-xs-12 col-md-6">
        <div class="alert alert-danger">{{errorMessage}}</div>
      </div>
    </div>
    <span *ngIf="loading; else mainContent">Loading...<i class="fa fa-spin fa-sync"></i></span>
    <ng-template #mainContent>


      <div class="row">
        <div class="col-sm-2 form-group">
          <label for="">Currency</label>
          <select type="text" class="form-control uppercase" [(ngModel)]="currency" (change)="fetch()">
            <option [value]="currency" *ngFor="let currency of currencies">{{currency}}</option>
          </select>

          
        </div>
      
        
      </div>

      <div>
        <div><p>Total: {{total | cryptoFormat}}</p></div>
        <button class="btn btn-primary btn-tn" (click)="fetch()">Refresh</button>
      </div>

      <table class="table table-striped table-bordered table-hover table-condensed" style="font-size: 0.8em">
        <thead>
          <tr>
            <th>Screen Name</th>
            <th>Joined</th>
            <th>Email</th>
            <th>Balance</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of userBalances">            
            <td>{{user.screenName}}</td>
            <td>{{user.joined| date:'dd MMM yy - h:mm a'}}</td>            
            <td>{{user.email}}</td>            
            <td>{{user.balance | cryptoFormat}}</td>
          </tr>
        </tbody>
      </table>




    </ng-template>



  </nb-card-body>
</nb-card>